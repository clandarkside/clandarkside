{{ define "main" }}
  <section class="page-hero">
    <div class="wrap">
      <h1>{{ .Title }}</h1>
      <p class="meta">
        {{ with .Params.event }}{{ . }}{{ end }}
        {{ with .Params.opponent }}{{ if $.Params.event }} | {{ end }}vs {{ . }}{{ end }}
        {{ if .Date }} | {{ .Date.Format "Jan 2, 2006" }}{{ end }}
      </p>
      <div class="badge-group">
        {{ with .Params.result }}<span class="badge badge-{{ . | urlize }}">{{ . }}</span>{{ end }}
        {{ with .Params.location }}<span class="badge badge-{{ . | urlize }}">{{ . }}</span>{{ end }}
      </div>
    </div>
  </section>
  <section class="wrap">
    <aside class="match-maps">
      <h2>Map Scores</h2>
      {{ if .Params.maps }}
        <ul class="map-listing">
          {{ range $index, $map := .Params.maps }}
            {{ $img := "images/maps/placeholder.svg" }}
            {{ with $map.image }}{{ $img = . }}{{ end }}
            <li>
              <img class="map-image" src="{{ $img | relURL }}" alt="{{ $map.name }} screenshot" width="200" height="200" loading="lazy">
              <div class="map-meta">
                <span class="map-name">{{ $map.name }}</span>
                <span class="map-score">{{ $map.our_score }} - {{ $map.their_score }}</span>
              </div>
            </li>
          {{ end }}
        </ul>
      {{ else }}
        <p>No maps recorded.</p>
      {{ end }}
    </aside>
    {{ with trim .Params.coach_notes " " }}
      <div class="callout">
        <strong>Coach Notes</strong>
        <p>{{ . }}</p>
      </div>
    {{ end }}
    {{ with .Content }}
      <div class="match-recap">
        <h2>Match Recap</h2>
        {{ . }}
      </div>
    {{ end }}
  </section>
{{ end }}
