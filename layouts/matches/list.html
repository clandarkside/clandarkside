{{ define "main" }}
  <section class="page-hero">
    <div class="wrap">
      <h1>{{ .Title }}</h1>
    </div>
  </section>
  <section class="wrap">
    <div class="table-wrap">
      <table class="match-table">
        <thead>
          <tr>
            <th>Match</th>
            <th>Event</th>
            <th>Score</th>
            <th>Result</th>
            <th>Location</th>
          </tr>
        </thead>
        <tbody>
          {{ $paginator := .Paginate .Pages 7 }}
          {{ range $paginator.Pages }}
            <tr>
              <td>
                <a class="match-link" href="{{ .RelPermalink }}">{{ .Title }}</a>
                <span class="meta">{{ .Date.Format "Jan 2, 2006" }}</span>
                {{ with .Params.maps }}
                  <div class="map-list">
                    {{ range . }}
                      {{ with .name }}<span class="map-chip">{{ . }}</span>{{ end }}
                    {{ end }}
                  </div>
                {{ end }}
              </td>
              <td>{{ with .Params.event }}{{ . }}{{ end }}</td>
              <td>{{ with .Params.total_score }}{{ . }}{{ end }}</td>
              <td>{{ with .Params.result }}<span class="badge badge-{{ . | urlize }}">{{ . }}</span>{{ end }}</td>
              <td>{{ with .Params.location }}<span class="badge badge-{{ . | urlize }}">{{ . }}</span>{{ end }}</td>
            </tr>
          {{ end }}
        </tbody>
      </table>
    </div>

    {{ if gt $paginator.TotalPages 1 }}
      <nav class="pagination">
        <div class="pagination-controls">
          {{ if $paginator.HasPrev }}
            <a href="{{ $paginator.Prev.URL }}" class="button ghost">&larr; Newer</a>
          {{ else }}
            <span class="button ghost disabled">&larr; Newer</span>
          {{ end }}

          <span class="page-count">Page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}</span>

          {{ if $paginator.HasNext }}
            <a href="{{ $paginator.Next.URL }}" class="button ghost">Older &rarr;</a>
          {{ else }}
            <span class="button ghost disabled">Older &rarr;</span>
          {{ end }}
        </div>
      </nav>
    {{ end }}
  </section>
{{ end }}
